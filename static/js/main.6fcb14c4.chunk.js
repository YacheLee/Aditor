(this["webpackJsonpaditor-example"]=this["webpackJsonpaditor-example"]||[]).push([[0],{134:function(n,e,t){n.exports=t(308)},135:function(n,e,t){},307:function(n,e,t){},308:function(n,e,t){"use strict";t.r(e);t(135);var r=t(1),o=t.n(r),a=t(10),i=t.n(a),c=t(28),l=t(83),s=t(43),u=t(33),p=t(34),d=t(11),f=t(3),m=t(6),h=t.n(m),v=t(12),b=t(2),x=t(122),g=t(327),k=t(330),y=t(329),w=t(333),E=t(332),P=t(29),M=t(32),O=t(37),C=t(123),j=t(131),D=t(24),A=t(124),z=t(125),R=t.n(z),S=t(130),B=t(64),T=t(331),L=t(84),I=t.n(L);function V(){var n=Object(d.a)(["\n  padding: 4px 8px 4px 14px;\n  position: sticky;\n  top: 0;\n  background-color: white;\n  z-index: 1;\n  width: 100%;\n  flex-wrap: nowrap;\n  overflow-x: auto;\n  display: flex;\n  flex: 0 0 auto;\n  flex-shrink: 0;\n"]);return V=function(){return n},n}function H(){var n=Object(d.a)(['\n  .ProseMirror {\n    position: relative;\n  }\n\n    .ProseMirror {\n      word-wrap: break-word;\n      white-space: pre-wrap;\n      -webkit-font-variant-ligatures: none;\n      font-variant-ligatures: none;\n    }\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror li {\n  position: relative;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; }\n.ProseMirror-hideselection { caret-color: transparent; }\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\n/* Make sure li selections wrap around markers */\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px; top: -2px; bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n.ProseMirror-textblock-dropdown {\n  min-width: 3em;\n}\n\n.ProseMirror-menu {\n  margin: 0 -4px;\n  line-height: 1;\n}\n\n.ProseMirror-tooltip .ProseMirror-menu {\n  width: fit-content;\n  white-space: pre;\n}\n\n.ProseMirror-menuitem {\n  margin-right: 3px;\n  display: inline-block;\n}\n\n.ProseMirror-menuseparator {\n  border-right: 1px solid #ddd;\n  margin-right: 3px;\n}\n\n.ProseMirror-menu-dropdown, .ProseMirror-menu-dropdown-menu {\n  font-size: 90%;\n  white-space: nowrap;\n}\n\n.ProseMirror-menu-dropdown {\n  vertical-align: 1px;\n  cursor: pointer;\n  position: relative;\n  padding-right: 15px;\n}\n\n.ProseMirror-menu-dropdown-wrap {\n  padding: 1px 0 1px 4px;\n  display: inline-block;\n  position: relative;\n}\n\n.ProseMirror-menu-dropdown:after {\n  content: "";\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid currentColor;\n  opacity: .6;\n  position: absolute;\n  right: 4px;\n  top: calc(50% - 2px);\n}\n\n.ProseMirror-menu-dropdown-menu, .ProseMirror-menu-submenu {\n  position: absolute;\n  background: white;\n  color: #666;\n  border: 1px solid #aaa;\n  padding: 2px;\n}\n\n.ProseMirror-menu-dropdown-menu {\n  z-index: 15;\n  min-width: 6em;\n}\n\n.ProseMirror-menu-dropdown-item {\n  cursor: pointer;\n  padding: 2px 8px 2px 4px;\n}\n\n.ProseMirror-menu-dropdown-item:hover {\n  background: #f2f2f2;\n}\n\n.ProseMirror-menu-submenu-wrap {\n  position: relative;\n  margin-right: -4px;\n}\n\n.ProseMirror-menu-submenu-label:after {\n  content: "";\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n  border-left: 4px solid currentColor;\n  opacity: .6;\n  position: absolute;\n  right: 4px;\n  top: calc(50% - 4px);\n}\n\n.ProseMirror-menu-submenu {\n  display: none;\n  min-width: 4em;\n  left: 100%;\n  top: -3px;\n}\n\n.ProseMirror-menu-active {\n  background: #eee;\n  border-radius: 4px;\n}\n\n.ProseMirror-menu-active {\n  background: #eee;\n  border-radius: 4px;\n}\n\n.ProseMirror-menu-disabled {\n  opacity: .3;\n}\n\n.ProseMirror-menu-submenu-wrap:hover .ProseMirror-menu-submenu, .ProseMirror-menu-submenu-wrap-active .ProseMirror-menu-submenu {\n  display: block;\n}\n\n.ProseMirror-menubar {\n  border-top-left-radius: inherit;\n  border-top-right-radius: inherit;\n  position: relative;\n  min-height: 1em;\n  color: #666;\n  padding: 1px 6px;\n  top: 0; left: 0; right: 0;\n  border-bottom: 1px solid silver;\n  background: white;\n  z-index: 10;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: visible;\n}\n\n.ProseMirror-icon {\n  display: inline-block;\n  line-height: .8;\n  vertical-align: -2px; /* Compensate for padding */\n  padding: 2px 8px;\n  cursor: pointer;\n}\n\n.ProseMirror-menu-disabled.ProseMirror-icon {\n  cursor: default;\n}\n\n.ProseMirror-icon svg {\n  fill: currentColor;\n  height: 1em;\n}\n\n.ProseMirror-icon span {\n  vertical-align: text-top;\n}\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n/* Add space around the hr to make clicking it easier */\n\n.ProseMirror-example-setup-style hr {\n  padding: 2px 10px;\n  border: none;\n  margin: 1em 0;\n}\n\n.ProseMirror-example-setup-style hr:after {\n  content: "";\n  display: block;\n  height: 1px;\n  background-color: silver;\n  line-height: 2px;\n}\n\n.ProseMirror ul, .ProseMirror ol {\n  padding-left: 30px;\n}\n\n.ProseMirror blockquote {\n  padding-left: 1em;\n  border-left: 3px solid #eee;\n  margin-left: 0; margin-right: 0;\n}\n\n.ProseMirror-example-setup-style img {\n  cursor: default;\n}\n\n.ProseMirror-prompt {\n  background: white;\n  padding: 5px 10px 5px 15px;\n  border: 1px solid silver;\n  position: fixed;\n  border-radius: 3px;\n  z-index: 11;\n  box-shadow: -.5px 2px 5px rgba(0, 0, 0, .2);\n}\n\n.ProseMirror-prompt h5 {\n  margin: 0;\n  font-weight: normal;\n  font-size: 100%;\n  color: #444;\n}\n\n.ProseMirror-prompt input[type="text"],\n.ProseMirror-prompt textarea {\n  background: #eee;\n  border: none;\n  outline: none;\n}\n\n.ProseMirror-prompt input[type="text"] {\n  padding: 0 4px;\n}\n\n.ProseMirror-prompt-close {\n  position: absolute;\n  left: 2px; top: 1px;\n  color: #666;\n  border: none; background: transparent; padding: 0;\n}\n\n.ProseMirror-prompt-close:after {\n  content: "\xe2\u0153\u2022";\n  font-size: 12px;\n}\n\n.ProseMirror-invalid {\n  background: #ffc;\n  border: 1px solid #cc7;\n  border-radius: 4px;\n  padding: 5px 10px;\n  position: absolute;\n  min-width: 10em;\n}\n\n.ProseMirror-prompt-buttons {\n  margin-top: 5px;\n  display: none;\n}\n#editor, .editor {\n  background: white;\n  color: black;\n  background-clip: padding-box;\n  border-radius: 4px;\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  padding: 5px 0;\n  margin-bottom: 23px;\n}\n\n.ProseMirror p:first-child,\n.ProseMirror h1:first-child,\n.ProseMirror h2:first-child,\n.ProseMirror h3:first-child,\n.ProseMirror h4:first-child,\n.ProseMirror h5:first-child,\n.ProseMirror h6:first-child {\n  margin-top: 10px;\n}\n\n.ProseMirror {\n  padding: 4px 8px 4px 24px;\n  line-height: 1.2;\n  outline: none;\n}\n\n.ProseMirror p { margin-bottom: 1em }\n\n']);return H=function(){return n},n}function _(){var n=Object(d.a)(["\n    user-select: none;\n    cursor: pointer;\n    border: 1px solid transparent;\n    border-radius: 4px;\n    box-shadow: none;\n    box-sizing: border-box;\n    \n    font-weight: 500;\n    font-size: 14px;\n    height: 36px;\n    letter-spacing: 0.25px;\n    line-height: 16px;\n    padding: 9px 24px 11px 24px;\n    background: #1a73e8 none;\n    color: #fff;\n    \n    margin-left: 12px;\n    \n    &:hover{\n      border: 1px solid transparent;\n      background-color: #2b7de9;\n    }\n"]);return _=function(){return n},n}function $(){var n=Object(d.a)(["\n    box-sizing: content-box;\n    color: #5f6368;\n    height: 32px;\n    margin: 0;\n    width: 294px;\n    \n    border: 1px solid #dadce0;\n    border-radius: 4px;\n    padding: 1px 8px;\n    font-size: 14px;\n    \n    &:focus{\n      color: #3c4043;\n      border: 2px solid #1a73e8;\n      box-shadow: none;\n      padding: 0 7px;\n      outline: none;\n    }\n"]);return $=function(){return n},n}function F(){var n=Object(d.a)(["\n    position: absolute;\n    top: -8px;\n    left: 12px;\n    \n    background-color: white;\n    box-shadow: 5px 0 0 white, -5px 0 0 white;\n    color: #5f6368;\n    display: inline;\n    font-size: 12px;\n    margin-bottom: 0;\n    max-width: 300px;\n    padding: 0;\n"]);return F=function(){return n},n}function N(){var n=Object(d.a)(["\n    position: relative;\n"]);return N=function(){return n},n}function q(){var n=Object(d.a)(["\n    height: 50%;\n    position: relative;\n    padding: 24px;\n"]);return q=function(){return n},n}function J(){var n=Object(d.a)(["\n  width: 462px;\n  height: 146px;\n  position: relative;\n"]);return J=function(){return n},n}function U(){var n=Object(d.a)(["\n  width: 284px;\n  height: 42px;\n  display: flex;\n  align-items: center;\n  padding: 0 6px;\n  \n  .global{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 30px;\n    height: 30px;\n  }\n  \n  a{\n      user-select: none;\n      display: inline-block;\n      width: 160px;\n      max-width: 400px;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      font-weight: 500;\n      text-decoration: none;\n      \n      color: rgb(17, 85, 204);\n      cursor: pointer;\n  }\n  \n  .tools {\n    user-select: none;\n    width: 90px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    \n    span {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 30px;\n      height: 30px;\n      \n      &:hover{\n        background-color: rgba(0, 0, 0, 0.06);\n        border-radius: 50%;\n        cursor: pointer;\n      }\n    }\n  }\n"]);return U=function(){return n},n}function K(){var n=Object(d.a)(["\n  color: ",";\n  margin-right: 0;\n  min-width: 140px;\n  font-size: 20px;\n  &:hover{\n    cursor: pointer;\n  }\n"]);return K=function(){return n},n}function W(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return W=function(){return n},n}function X(){var n=Object(d.a)(["\n  color: black;\n  padding: 8px 10px;\n  height: 95%;\n  text-decoration: none;\n  display: block;\n\n  &:hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n"]);return X=function(){return n},n}function G(){var n=Object(d.a)(["\n  padding-top: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  background-color: #f9f9f9;\n  min-width: 100px;\n  min-height: 200px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\n  z-index: 9999999;\n"]);return G=function(){return n},n}function Q(){var n=Object(d.a)(["\n  height: ",";\n"]);return Q=function(){return n},n}function Y(){var n=Object(d.a)(["\n    font-size: ",";\n    width: ","px;\n    height: ","px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n      \n    &:hover{\n        cursor: pointer;\n    }\n\n    svg {\n      background-color: ",";\n      color: ",";\n      border-radius: 5px;\n      \n      &:hover{\n        background-color: ",";\n        color: ",";\n      }\n    }\n"]);return Y=function(){return n},n}function Z(){var n=Object(d.a)(["\n    font-size: ",";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 12px;\n    color: ",";\n    &:hover {\n        cursor: ",";\n    }\n"]);return Z=function(){return n},n}var nn={anchorEl:null,setPopoverAnchorElement:null,setPopoverContent:null,setAnchorEl:function(n){this.anchorEl=n},getAnchorEl:function(){return this.anchorEl},closePopover:function(){this.setPopoverAnchorElement(null)},isTopPopover:function(){return null!==this.anchorEl}};function en(n){var e=n.id,t=n.anchorEl,a=n.children,i=Boolean(t);return Object(r.useEffect)((function(){function n(n){"Escape"===n.key&&nn.isTopPopover()&&nn.closePopover()}return document.body.addEventListener("keydown",n),function(){document.body.removeEventListener("keydown",n)}})),o.a.createElement(E.a,{onClickAway:function(n){-1===n.composedPath().indexOf(t)&&nn.closePopover()}},o.a.createElement(w.a,{id:e,open:i,anchorEl:t,onClose:nn.closePopover},o.a.createElement(r.Fragment,null,a)))}en.propTypes={};var tn,rn=v.a.div(tn||(tn=Z()),"24px",(function(n){return n.disabled?"rgba(0, 0, 0, 0.26)":""}),(function(n){return n.disabled?"not-allowed":"pointer"})),on=function(){function n(e){Object(u.a)(this,n),this.dom=document.createElement("div"),this.renderReactComponent(e)}return Object(p.a)(n,[{key:"renderReactComponent",value:function(n){var e=!Object(P.c)(n.state);i.a.render(o.a.createElement(rn,{disabled:e,onClick:function(e){e.preventDefault(),n.focus(),Object(P.c)(n.state,n.dispatch)}},o.a.createElement(D.h,null)),this.dom)}},{key:"update",value:function(n){this.renderReactComponent(n)}},{key:"destroy",value:function(){this.dom.remove()}}]),n}();function an(n){return new b.d({view:function(e){var t=new on(e,n);return n.append(t.dom),t},props:{handleKeyDown:Object(M.a)({"Mod-z":P.c})},update:function(){return!0}})}var cn=function(){function n(e){Object(u.a)(this,n),this.editorView=e,this.dom=document.createElement("div"),this.renderReactComponent(e)}return Object(p.a)(n,[{key:"renderReactComponent",value:function(n){var e=!Object(P.b)(this.editorView.state);i.a.render(o.a.createElement(rn,{disabled:e,onClick:function(e){e.preventDefault(),n.focus(),Object(P.b)(n.state,n.dispatch)}},o.a.createElement(D.g,null)),this.dom)}},{key:"update",value:function(n){this.renderReactComponent(n)}},{key:"destroy",value:function(){this.dom.remove()}}]),n}();function ln(n){return new b.d({view:function(e){var t=new cn(e);return n.append(t.dom),t},props:{handleKeyDown:Object(M.a)({"Mod-y":P.b})},update:function(){return!0}})}function sn(n,e){return!!function(n,e){var t=n.selection,r=t.from,o=t.$from,a=t.to;return t.empty?e.isInSet(n.storedMarks||o.marks()):n.doc.rangeHasMark(r,a,e)}(n,e)}var un,pn=v.a.div(un||(un=Y()),"24px",48,48,(function(n){return n.isActive?"#42526E":"white"}),(function(n){return n.isActive?"white":"#42526E"}),(function(n){return n.isActive?"#42526E":"#ECEDF0"}),(function(n){return n.isActive?"white":"#42526E"}));function dn(n,e,t,r,a,c){function l(n,e){Object(O.c)(n.schema.marks[r],Object(s.a)({},a,!0))(n,e)}var d=function(){function n(e){Object(u.a)(this,n),this.dom=this.toolbarButtonDom=document.createElement("div"),this.renderReactComponent(e)}return Object(p.a)(n,[{key:"renderReactComponent",value:function(n){var t=n.state.schema.marks[r];i.a.render(o.a.createElement(pn,{isActive:sn(n.state,t),onClick:function(e){e.preventDefault(),n.focus(),l(n.state,n.dispatch)}},o.a.createElement(e,null)),this.toolbarButtonDom)}},{key:"update",value:function(n){this.renderReactComponent(n)}},{key:"destroy",value:function(){this.toolbarButtonDom.remove()}}]),n}(),f={view:function(e){var t=new d(e);return n.append(t.dom),t},update:function(){return!0},mark:t};return c&&(f.props={handleKeyDown:Object(M.a)(Object(s.a)({},c,l))}),new b.d(f)}var fn={strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(n){return"normal"!==n.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(n){return/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}}],toDOM:function(){return["b",0]}}};function mn(n){return dn(n,D.b,fn,"strong","strong","Mod-b")}var hn={em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}}};function vn(n){return dn(n,D.c,hn,"em","em","Mod-i")}var bn={u:{parseDOM:[{tag:"u"}],toDOM:function(){return["u",0]}}};function xn(n){return dn(n,D.e,bn,"u","u","Mod-u")}var gn={del:{parseDOM:[{tag:"del"}],toDOM:function(){return["del",0]}}};function kn(n){return dn(n,D.d,gn,"del","del")}var yn={textColor:{attrs:{color:{}},inclusive:!0,parseDOM:[{style:"color",getAttrs:function(n){return{color:n}}}],toDOM:function(n){return["span",{style:"color: "+n.attrs.color}]}}};function wn(n,e){!function(n,e){var t=n.schema,r=n.selection,o=(n.tr,t.marks.textColor),a=r.from,i=r.to;e((r.$cursor?n.tr.removeStoredMark(o):n.tr.removeMark(a,i,o)).scrollIntoView())}(n.state,n.dispatch),function(n,e){var t=n.state.schema.marks.textColor;return Object(O.c)(t,{color:e})}(n,e)(n.state,n.dispatch)}var En,Pn=v.a.svg(En||(En=Q()),"24px");function Mn(n){var e=n.color,t=n.onClick;return o.a.createElement(Pn,{onClick:t,focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},o.a.createElement("g",null,o.a.createElement("path",{fill:e,d:"M0 20h24v4H0z"}),o.a.createElement("path",{d:"M11 3L5.5 17h2.25l1.12-3h6.25l1.12 3h2.25L13 3h-2zm-1.38 9L12 5.67 14.38 12H9.62z"})))}function On(n){var e=n.editorView,t=n.value,r=n.toolbarButtonDom;return o.a.createElement(rn,{onClick:function(n){n.preventDefault(),nn.getAnchorEl()===r?nn.closePopover():(nn.setPopoverAnchorElement(r),nn.setPopoverContent(o.a.createElement(A.CompactPicker,{color:t,onChangeComplete:function(n){var t=n.hex;t&&(wn(e,t),nn.closePopover())}})))}},o.a.createElement(Mn,{color:t}))}Mn.defaultProps={color:"blue",onClick:function(){}},Mn.propTypes={color:h.a.string,onClick:h.a.func};var Cn=function(){function n(e){Object(u.a)(this,n),this.dom=this.toolbarButtonDom=document.createElement("div"),this.renderReactComponent(e)}return Object(p.a)(n,[{key:"renderReactComponent",value:function(n){var e=function(n){var e,t=n.state,r=t.selection,o=r.$from,a=r.$to,i=r.$cursor,c=t.schema.marks.textColor,l=[];i?l.push(c.isInSet(t.storedMarks||i.marks())||void 0):t.doc.nodesBetween(o.pos,a.pos,(function(n){if(n.isLeaf){var e=c.isInSet(n.marks)||void 0;return l.push(e),!e}return!0}));var s=(l=l.filter((function(n){return(!n||!e||n.attrs.color!==e.attrs.color)&&(e=n,!0)}))).filter((function(n){return!!n}));return s.length>1||1===s.length&&l.length>1?"#42526E":s.length?s[0].attrs.color:"#42526E"}(n);i.a.render(o.a.createElement(On,{toolbarButtonDom:this.toolbarButtonDom,editorView:n,value:e}),this.toolbarButtonDom)}},{key:"update",value:function(n){this.renderReactComponent(n)}},{key:"destroy",value:function(){this.toolbarButtonDom.remove()}}]),n}();function jn(n){var e={view:function(e){var t=new Cn(e);return n.append(t.dom),t},update:function(){return!0},mark:yn};return new b.d(e)}var Dn=0,An=Dn;function zn(n){var e=n.state,t=e.selection,r=e.tr,o=t.from,a=t.to,i=[],c=[];return r.doc.nodesBetween(r.mapping.map(o),r.mapping.map(a),(function(n){n.isBlock&&(i.push(n),"heading"===n.type.name&&c.push(n))})),i.length===c.length?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=new Set(n.map((function(n){return n.attrs.level})));return 1===e.size?e.values().next().value:Dn}(c):Dn}function Rn(n){return n===Dn?"Paragraph":"Heading ".concat(n)}var Sn,Bn,Tn=v.a.div(Sn||(Sn=G())),Ln=v.a.div(Bn||(Bn=X()),"#ECEDF0");function In(n){var e=n.fontSize,t=n.hover,r=n.onClick,a=n.label;return o.a.createElement(Ln,{hover:t,style:{fontSize:e},onClick:r},a)}var Vn=function(n){var e=n.onClick,t=n.value;return o.a.createElement(Tn,null,[Dn,1,2,3,4,5,6].map((function(n,r){var a=Rn(n),i=n===t,c=20-2*r;return o.a.createElement(In,{key:r,label:a,fontSize:c,hover:i,onClick:function(){return e(n)}})})))};Vn.defaultProps={onClick:function(){},value:An},Vn.propTypes={};var Hn,_n,$n=v.a.div(Hn||(Hn=W())),Fn=Object(v.a)(rn)(_n||(_n=K()),"#42526E");function Nn(n){var e=n.editorView,t=n.value,a=n.toolbarButtonDom,i=Rn(t);return o.a.createElement(r.Fragment,null,o.a.createElement(Fn,{onClick:function(n){n.preventDefault(),nn.getAnchorEl()===a?nn.closePopover():(nn.setPopoverAnchorElement(a),nn.setPopoverContent(o.a.createElement(Vn,{onClick:function(n){!function(n,e){if(n.focus(),e===Dn){var t=n.state.schema.nodes.paragraph;Object(O.b)(t)(n.state,n.dispatch)}else{var r=n.state.schema.nodes.heading;Object(O.b)(r,{level:e})(n.state,n.dispatch)}}(e,n),nn.setPopoverAnchorElement(null)}})))}},o.a.createElement($n,null,i),o.a.createElement($n,null,o.a.createElement(D.a,null))))}Nn.defaultProps={},Nn.propTypes={};var qn=function(){function n(e){Object(u.a)(this,n),this.dom=this.toolbarButtonDom=document.createElement("div"),this.renderReactComponent(e)}return Object(p.a)(n,[{key:"renderReactComponent",value:function(n){var e=zn(n);i.a.render(o.a.createElement(Nn,{toolbarButtonDom:this.toolbarButtonDom,editorView:n,value:e}),this.dom)}},{key:"update",value:function(n){this.renderReactComponent(n)}},{key:"destroy",value:function(){this.dom.remove()}}]),n}();function Jn(n){return new b.d({view:function(e){var t=new qn(e);return n.append(t.dom),t},update:function(){return!0}})}var Un,Kn="_LinkPlugin-module__blockLink__21HdP",Wn={link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){return{href:n.getAttribute("href"),title:n.getAttribute("title")}}}],toDOM:function(n){var e=n.attrs;return["a",{href:e.href,title:e.title,class:Kn},0]}}},Xn=Object(v.a)(g.a)(Un||(Un=U()));function Gn(n){var e=n.url,t=n.onCopyLink,r=n.onEditLink,a=n.onRemoveLink;return o.a.createElement(Xn,null,o.a.createElement("span",{className:"global"},o.a.createElement(S.a,null)),o.a.createElement(T.a,{title:e},o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e},e)),o.a.createElement("span",{className:"tools"},o.a.createElement(T.a,{title:"Copy link",onClick:t},o.a.createElement("span",null,o.a.createElement(B.a,null))),o.a.createElement(T.a,{title:"Edit link",onClick:r},o.a.createElement("span",null,o.a.createElement(B.b,null))),o.a.createElement(T.a,{title:"Remove link",onClick:a},o.a.createElement("span",null,o.a.createElement(B.c,null)))))}function Qn(n,e){return function(t,r,o){return Array.isArray(n)||(n=[n]),!n.some((function(n){return!n(t,o)}))&&(e(t,r,o)||!1)}}function Yn(n,e,t){return Qn(function(n){return function(e){var t=e.doc.nodeAt(n);return!!t&&t.isText}}(e),(function(r,o){var a=r.doc.resolve(e),i=r.doc.nodeAt(e),c=r.schema.marks.link,s=c.isInSet(i.marks),u=n;if(s&&s.attrs.href===u)return!1;var p=t&&e!==t?t:e-a.textOffset+i.nodeSize,d=r.tr.removeMark(e,p,c);if(n.trim()){var f=Object(l.a)({},s&&s.attrs||{},{href:u});d.addMark(e,p,c.create(f))}return o&&o(d),!0}))}var Zn,ne,ee,te,re,oe,ae=Object(v.a)(g.a)(Zn||(Zn=J())),ie=v.a.div(ne||(ne=q())),ce=v.a.div(ee||(ee=N())),le=v.a.label(te||(te=F())),se=v.a.input(re||(re=$())),ue=v.a.div(oe||(oe=_()));function pe(n){var e=n.text,t=void 0===e?"":e,a=n.url,i=void 0===a?"":a,l=n.button_text,s=void 0===l?"Apply":l,u=n.onApply,p=Object(r.useState)(t),d=Object(c.a)(p,2),f=d[0],m=d[1],h=Object(r.useState)(i),v=Object(c.a)(h,2),b=v[0],x=v[1],g=I.a.uniqueId("text_"),k=I.a.uniqueId("link_");return o.a.createElement(ae,null,o.a.createElement(ie,null,o.a.createElement(ce,null,o.a.createElement(le,{htmlFor:g},"Text"),o.a.createElement(se,{autoFocus:!0,id:g,value:f,onChange:function(n){return m(n.target.value)}}))),o.a.createElement(ie,null,o.a.createElement(ce,{style:{display:"flex"}},o.a.createElement(le,{htmlFor:k},"Link"),o.a.createElement(se,{id:k,value:b,onChange:function(n){return x(n.target.value)}}),o.a.createElement(ue,{onClick:function(){return u({text:f,url:b})}},s))))}function de(n,e,t){return Qn(function(n){return function(e){var t=e.doc.nodeAt(n);return!!t&&e.schema.marks.link.isInSet(t.marks)}}(e),(function(r,o){var a=r.doc.resolve(e),i=r.doc.nodeAt(e),c=r.schema.marks.link.isInSet(i.marks);if(i&&n.length>0&&n!==i.text){var l=t&&e!==t?t:e-a.textOffset+i.nodeSize,s=r.tr;return s.insertText(n,e,l),s.addMark(e,e+n.length,c),o&&o(s),!0}return!1}))}function fe(){return window.screen.width<510}function me(n,e,t){var r=t.target;if(r){var a=r.closest(".".concat(Kn));if(a){var i=function(n){var e=n.selection.$from;if(function(n){return!!n.doc.type.schema.marks.link.isInSet(n.selection.$from.marks())}(n)||function(n){var e=n.selection,t=e.$from,r=e.$to,o=t.nodeAfter;return!!o&&0===t.textOffset&&r.pos-t.pos===o.nodeSize&&!!n.doc.type.schema.marks.link.isInSet(o.marks)}(n)){var t=e.pos-e.textOffset,r=n.doc.nodeAt(t);return r&&r.isText?{node:r,pos:t}:void 0}}(n.state);if(i){var c=a.getAttribute("href"),l=a.innerText;nn.setPopoverAnchorElement(a),nn.setPopoverContent(o.a.createElement(Gn,{url:c,onEditLink:function(){if(fe()){var e=window.prompt("Enter the URL of the link:",c);e&&Yn(e,i.pos)(n.state,n.dispatch)}else nn.setPopoverContent(o.a.createElement(pe,{url:c,text:l,onApply:function(e){var t=e.text;Yn(e.url,i.pos)(n.state,n.dispatch),de(t,i.pos)(n.state,n.dispatch),nn.closePopover()}}))},onCopyLink:function(){R()(c),nn.closePopover()},onRemoveLink:function(){Yn("",i.pos)(n.state,n.dispatch),nn.closePopover()}}))}}}}function he(n,e,t){return Qn(function(n,e){return function(t){if(!t.doc.rangeHasMark(n,e,t.schema.marks.link)){var r=t.doc.resolve(n),o=t.doc.resolve(e),a=t.schema.marks.link;if(r.parent===o.parent&&r.parent.isTextblock&&r.parent.type.allowsMarkType(a)){var i=!0;return t.doc.nodesBetween(n,e,(function(n){return i=i&&!n.marks.some((function(n){return n.type.excludes(a)}))})),i}}return!1}}(n,n),(function(r,o){var a=r.schema.marks.link;if(e.trim()){var i=r.tr,c=t||e;return i.insertText(c,n,n),i.addMark(n,n+c.length,a.create({href:e})),o&&o(i.scrollIntoView()),!0}return!1}))}function ve(n){var e=n.editorView,t=n.toolbarButtonDom;return o.a.createElement(rn,{onClick:function(n){if(n.preventDefault(),nn.getAnchorEl()===t)nn.closePopover();else{var r="",a="",i=e.state.selection,c=i.from,l=i.to,s=c===l;s||(r=function(n,e,t){return n.doc.cut(e,t).content.content.map((function(n){return n.textContent})).join("")}(e.state,c,l),a=function(n,e){var t=n.doc.nodeAt(e),r=n.schema.marks.link.isInSet(t.marks);return r&&r.attrs?r.attrs.href:""}(e.state,c));var u=s?"Insert":"Update";if(fe())if(s){var p=window.prompt("Enter the TEXT of the link:",r);if(p){var d=window.prompt("Enter the URL of the link:",a);d&&he(c,d,p)(e.state,e.dispatch)}}else{var f=window.prompt("Enter the URL of the link:",a);f&&Yn(f,c,l)(e.state,e.dispatch)}else nn.setPopoverAnchorElement(t),nn.setPopoverContent(o.a.createElement(pe,{text:r,url:a,button_text:u,onApply:function(n){var t=n.text,r=n.url;s?he(c,r,t)(e.state,e.dispatch):(Yn(r,c,l)(e.state,e.dispatch),de(t,c,l)(e.state,e.dispatch)),nn.closePopover()}}))}}},o.a.createElement(D.f,null))}var be=function(){function n(e){Object(u.a)(this,n),this.dom=this.toolbarButtonDom=document.createElement("div"),this.renderReactComponent(e)}return Object(p.a)(n,[{key:"renderReactComponent",value:function(n){i.a.render(o.a.createElement(ve,{toolbarButtonDom:this.toolbarButtonDom,editorView:n}),this.toolbarButtonDom)}},{key:"update",value:function(n){this.renderReactComponent(n)}},{key:"destroy",value:function(){this.toolbarButtonDom.remove()}}]),n}();function xe(n){return new b.d({view:function(e){var t=new be(e,n);return n.append(t.dom),t},update:function(){return!0},mark:Wn,props:{handleClick:me}})}var ge={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(n){return["h"+n.attrs.level,0]}},text:{group:"inline",inline:!0}};function ke(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.map((function(n){return n.spec.mark})).filter((function(n){return!!n})).reduce((function(n,e){return n=Object(l.a)({},n,{},e)}),{})}function ye(n){var e=[{type:"paragraph"}];return void 0===n||null===n||Array.isArray(n)&&0===n.length?e:n}var we,Ee,Pe=v.a.div(we||(we=H())),Me=v.a.div(Ee||(Ee=V()));function Oe(n){var e=n.id,t=n.defaultValue,a=n.onChange;if(!e)throw new Error("The id is required to use Aditor");var i=Object(r.useRef)(null),l=Object(r.useRef)(null),s=Object(r.useState)(null),u=Object(c.a)(s,2),p=u[0],d=u[1],m=Object(r.useState)(null),h=Object(c.a)(m,2),v=h[0],w=h[1],E=Object(r.useState)(null),D=Object(c.a)(E,2),A=D[0],z=D[1];nn.setPopoverAnchorElement=w,nn.setPopoverContent=z,nn.setAnchorEl(v);var R=Object(r.useCallback)((function(){if(!p){var n=(c=l.current,[Object(P.a)(),Object(M.b)(O.a),Object(C.a)(),Object(j.a)(),an(c),ln(c),Jn(c),mn(c),vn(c),xn(c),kn(c),jn(c),xe(c)]),e=new f.h({nodes:ge,marks:ke(n)}).nodeFromJSON({type:"doc",content:ye(t)}),r=b.b.create({doc:e,plugins:n}),o=new x.a(i.current,{state:r,dispatchTransaction:function(n){var e=o.state.apply(n);o.updateState(e),a(e.toJSON().doc.content)}});d(o)}var c}),[t,p]);return Object(r.useEffect)((function(){R()}),[R]),o.a.createElement(y.a,null,o.a.createElement(g.a,null,o.a.createElement(Me,{ref:l,onMouseDown:function(n){return n.preventDefault()}}),o.a.createElement(k.a,{light:!0}),o.a.createElement(Pe,{ref:i}),p&&o.a.createElement(en,{id:"popover_".concat(e),anchorEl:v},A)))}Oe.defaultProps={defaultValue:[],onChange:function(){}},Oe.propTypes={id:h.a.string.isRequired,defaultValue:h.a.array,onChange:h.a.func};var Ce=Oe,je=(t(307),function(){var n=o.a.useState([{type:"heading",attrs:{level:1},content:[{type:"text",text:"Heading1"}]},{type:"heading",attrs:{level:2},content:[{type:"text",text:"Heading2"}]},{type:"heading",attrs:{level:3},content:[{type:"text",text:"Heading3"}]},{type:"heading",attrs:{level:4},content:[{type:"text",text:"Heading4"}]},{type:"heading",attrs:{level:5},content:[{type:"text",text:"Heading5"}]},{type:"heading",attrs:{level:6},content:[{type:"text",text:"Heading6"}]},{type:"paragraph",content:[{type:"text",text:"Normal Text"}]},{type:"paragraph",content:[{type:"text",marks:[{type:"strong"}],text:"Bold"}]},{type:"paragraph",content:[{type:"text",marks:[{type:"em"}],text:"Italic"}]},{type:"paragraph",content:[{type:"text",marks:[{type:"u"}],text:"Underline"}]},{type:"paragraph",content:[{type:"text",marks:[{type:"del"}],text:"StrikeThrough"}]},{type:"paragraph",content:[{type:"text",marks:[{type:"textColor",attrs:{color:"#f44e3b"}}],text:"Red"}]},{type:"paragraph",content:[{type:"text",marks:[{type:"link",attrs:{href:"https://www.google.com.tw",title:null}}],text:"Link"}]},{type:"heading",attrs:{level:1},content:[{type:"text",marks:[{type:"link",attrs:{href:"https://www.google.com.tw",title:null}},{type:"strong"},{type:"em"},{type:"u"},{type:"del"},{type:"textColor",attrs:{color:"#f44e3b"}}],text:"All combined"}]}]),e=Object(c.a)(n,2),t=e[0],r=e[1];return o.a.createElement("div",{className:"App"},o.a.createElement(Ce,{id:"aditor",defaultValue:t,onChange:function(n){r(n)}}),JSON.stringify(t))});i.a.render(o.a.createElement(je,null),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.6fcb14c4.chunk.js.map